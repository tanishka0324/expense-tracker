<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker Pro</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #b88cff;
      margin: 0;
      display: flex;
      height: 100vh;
      color: #fff;
    }
    .sidebar {
      width: 220px;
      background: #111;
      display: flex;
      flex-direction: column;
      padding: 20px 10px;
    }
    .sidebar img {
      border-radius: 50%;
      width: 60px;
      height: 60px;
      margin: 0 auto 10px;
    }
    .sidebar h3 {
      text-align: center;
      font-size: 16px;
    }
    .sidebar a {
      text-decoration: none;
      color: #bbb;
      padding: 10px 15px;
      display: block;
      border-radius: 6px;
      transition: background 0.3s;
    }
    .sidebar a:hover, .sidebar a.active {
      background: #222;
      color: #fff;
    }
    .main {
      flex: 1;
      background: #1b1b1b;
      border-radius: 12px;
      margin: 20px;
      padding: 20px;
      overflow: auto;
    }
    .top-section {
      display: flex;
      justify-content: space-between;
    }
    .card {
      background: #222;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .btn {
      background: #7b5bff;
      border: none;
      color: white;
      padding: 10px 15px;
      margin: 5px;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn:hover { background: #956cff; }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    table th, table td {
      padding: 10px;
      border-bottom: 1px solid #444;
      text-align: left;
    }
    input, select {
      padding: 8px;
      width: 90%;
      margin: 5px 0;
      border: none;
      border-radius: 4px;
    }
    canvas { background: #222; border-radius: 10px; }
  </style>
</head>
<body>

  <div class="sidebar">
    <img src="https://i.pravatar.cc/100" alt="Profile">
    <h3>Janice Chandler</h3>
    <a href="#" class="active">Home</a>
    <a href="#">Expenses</a>
    <a href="#">Trips</a>
    <a href="#">Approvals</a>
    <a href="#">Settings</a>
    <a href="#">Support</a>
  </div>

  <div class="main">
    <h2>Expense Tracker Dashboard</h2>
    <div class="card">
      <h3>Add New Expense</h3>
      <input type="text" id="desc" placeholder="Description">
      <input type="number" id="amount" placeholder="Amount">
      <select id="category">
        <option>Food</option>
        <option>Travel</option>
        <option>Shopping</option>
        <option>Other</option>
      </select>
      <button class="btn" onclick="addExpense()">+ Add Expense</button>
    </div>

    <div class="card">
      <h3>Expenses</h3>
      <table id="expenseTable">
        <tr><th>Description</th><th>Amount</th><th>Category</th><th>Action</th></tr>
      </table>
    </div>

    <div class="card">
      <h3>Spending Overview</h3>
      <canvas id="expenseChart" height="100"></canvas>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
  const ctx = document.getElementById('expenseChart').getContext('2d');
  const expenseChart = new Chart(ctx, {
    type: 'bar',
    data: { labels: [], datasets: [{ label: 'Expenses', data: [], backgroundColor: ['#7b5bff','#ff5b5b','#5bc0de','#5bff5b'] }] },
    options: { plugins: { legend: { labels: { color: '#fff' } } }, scales: { x: { ticks: { color: '#fff'}}, y: { ticks: { color: '#fff'}}}}
  });

  function updateChart() {
    const catTotals = {};
    expenses.forEach(e => catTotals[e.category] = (catTotals[e.category] || 0) + parseFloat(e.amount));
    expenseChart.data.labels = Object.keys(catTotals);
    expenseChart.data.datasets[0].data = Object.values(catTotals);
    expenseChart.update();
  }

  function renderTable() {
    const table = document.getElementById('expenseTable');
    table.innerHTML = '<tr><th>Description</th><th>Amount</th><th>Category</th><th>Action</th></tr>';
    expenses.forEach((e, i) => {
      table.innerHTML += `<tr><td>${e.desc}</td><td>â‚¬${e.amount}</td><td>${e.category}</td>
      <td><button class="btn" onclick="deleteExpense(${i})">Delete</button></td></tr>`;
    });
    updateChart();
  }

  function addExpense() {
    const desc = document.getElementById('desc').value;
    const amount = document.getElementById('amount').value;
    const category = document.getElementById('category').value;
    if(desc && amount) {
      expenses.push({desc, amount, category});
      localStorage.setItem('expenses', JSON.stringify(expenses));
      renderTable();
      document.getElementById('desc').value='';
      document.getElementById('amount').value='';
    }
  }

  function deleteExpense(i) {
    expenses.splice(i,1);
    localStorage.setItem('expenses', JSON.stringify(expenses));
    renderTable();
  }

  renderTable();
</script>

</body>
</html>
